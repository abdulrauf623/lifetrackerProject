(this["webpackJsonplifetracker-ui"]=this["webpackJsonplifetracker-ui"]||[]).push([[0],{247:function(e,t,n){},248:function(e,t,n){},268:function(e,t,n){},269:function(e,t,n){},594:function(e,t,n){},595:function(e,t,n){},596:function(e,t,n){},601:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),s=n.n(c),i=(n(247),n(17)),o=n(18),l=n(20),j=n(9),u=(n(248),n(29)),b=n(118),d=n(119),m=n(116),h=n.n(m),O=function(){function e(t){Object(b.a)(this,e),this.remoteHostUrl=t,this.token=null,this.tokenName="rate_my_token_setup"}return Object(d.a)(e,[{key:"setToken",value:function(e){this.token=e,localStorage.setItem(this.tokenName,e)}},{key:"request",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var n,a,r,c,s,i,l,j,u,b,d,m;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.endpoint,a=t.method,r=void 0===a?"GET":a,c=t.data,s=void 0===c?{}:c,i="".concat(this.remoteHostUrl,"/").concat(n),l={"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},this.token&&(l.Authorization="Bearer ".concat(this.token)),e.prev=4,e.next=7,h()({url:i,method:r,data:s,headers:l});case 7:return j=e.sent,e.abrupt("return",{data:j.data,error:null});case 11:return e.prev=11,e.t0=e.catch(4),m=null===e.t0||void 0===e.t0||null===(u=e.t0.response)||void 0===u||null===(b=u.data)||void 0===b||null===(d=b.error)||void 0===d?void 0:d.message,e.abrupt("return",{data:null,error:m||String(e.t0)});case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchPostFromToken",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUserFromToken();case 2:return t=e.sent,console.log("User fetched from token",t),n=t.data.user.id,e.next=7,this.request({endpoint:"exercise/".concat(n),method:"GET"});case 7:return a=e.sent,console.log("Result here",a),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUserFromToken",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({endpoint:"author/me",method:"GET"});case 2:return t=e.sent,console.log("fetch user?",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createPost",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({endpoint:"exercise",method:"POST",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loginUser",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({endpoint:"author/login",method:"POST",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signUpUser",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request({endpoint:"author/register",method:"POST",data:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOutUser",value:function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setToken(null),localStorage.setItem(this.tokenName,"");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),x=new O("https://lifetracker-623.herokuapp.com/"),p=n(1);function f(e){var t=e.user,n=(e.setUser,e.handleLogOut);return Object(p.jsxs)("ul",{className:"navbar",children:[Object(p.jsxs)(u.b,{to:"/",children:[" ",Object(p.jsx)("img",{className:"image",src:"https://codepath-student-store-demo.surge.sh/assets/codepath.f1b3e41a.svg",alt:"codepath"})]}),null!==t&&void 0!==t&&t.email?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(u.b,{to:"/portal",children:Object(p.jsx)("li",{className:"tag",children:"Activity"})}),Object(p.jsx)(u.b,{to:"/exercise",children:Object(p.jsx)("li",{className:"tag",children:"Exercise"})}),Object(p.jsx)("li",{className:"tag",children:" Nutrition"}),Object(p.jsx)("li",{className:"tag",children:" Sleep "}),Object(p.jsx)("li",{className:"tag",children:Object(p.jsx)("span",{onClick:n,children:" Logout"})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(u.b,{to:"/registration",children:[" ",Object(p.jsx)("li",{className:"tag",children:"Sign Up"})," "]}),Object(p.jsxs)(u.b,{to:"/login",children:[" ",Object(p.jsx)("li",{className:"tag",children:"Log In"})," "]})]})]})}n(268),n(269),n(270),n(594);function v(e){var t=e.product;return Object(p.jsx)("div",{className:"exercise-grid",children:Object(p.jsxs)("div",{className:"exercises",children:[Object(p.jsx)("div",{className:"category",children:t.exercise_name}),Object(p.jsxs)("div",{className:"category",children:[t.category," "]}),Object(p.jsxs)("div",{className:"category",children:[t.intensity," "]}),Object(p.jsxs)("div",{className:"category",children:[t.duration," "]})]})})}function g(e){var t=e.products,n=Boolean((null===t||void 0===t?void 0:t.length)>0);return console.log("render grid",n),n?Object(p.jsx)("div",{className:"grid",children:t.map((function(e){return Object(p.jsx)(v,{product:e})}))}):Object(p.jsx)("div",{className:"grid",children:" There are no exercise posts yet "})}n(595);function y(){return Object(p.jsx)("div",{className:"content",children:Object(p.jsxs)("div",{className:"lifetracker",children:[Object(p.jsxs)("h1",{children:[" ","Lifetracker",Object(p.jsx)("h2",{children:" Helping you take control of your life"})]}),Object(p.jsx)("img",{className:"watchimage",src:"https://m-cdn.phonearena.com/images/articles/387778-image/Apple-Watch-Series-7-review-health.jpg",alt:"a watch"})]})})}n(596);function N(){return Object(p.jsxs)("div",{className:"grid",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:"photos",src:"https://api.time.com/wp-content/uploads/2017/07/time-magazine-exercise-fitness-health-bethan-mooney-04.jpg?quality=85&w=1200&h=628&crop=1",alt:"a man running"}),Object(p.jsx)("div",{children:"Fitness"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:"photos",src:"https://www.budgetbytes.com/wp-content/uploads/2013/07/How-to-Calculate-Recipe-Costs-H.jpg",alt:"recipe"}),Object(p.jsx)("div",{children:" Food "})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:"photos",src:"https://post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/02/325353_2200-732x549.jpg",alt:"resting person"}),Object(p.jsx)("div",{children:"Rest"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:"photos",src:"https://pyxis.nymag.com/v1/imgs/a70/8bd/ca5c024edf9b7c781a305efe8db1fcd475-simplified-planner.2x.rsquare.w600.jpg",alt:"planning"}),Object(p.jsx)("div",{children:"Planner"})]})]})}function w(e){var t=e.user,n=e.posts;return Boolean(t.email)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{className:"title",children:" Exercise"}),Object(p.jsxs)("div",{className:"boxes",children:[Object(p.jsx)("h1",{className:"overview",children:" Overview "}),Object(p.jsx)(u.b,{to:"/exerciseForm",children:Object(p.jsx)("button",{className:"overview-button",children:"Record Exercise "})})]}),Object(p.jsx)(g,{products:n})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{}),Object(p.jsx)(N,{})]})}var k=n(15);function S(){return Object(p.jsxs)("div",{className:"home",children:[Object(p.jsx)(y,{}),Object(p.jsx)(N,{})]})}var F=n(5),U=n(16),C=n(658),E=n(659),T=n(649),P=n(652),_=n(665),q=n(654),I=n(656),W=n(663),A=n(664),D=n(657),R=n(121),L=n.n(R),B=n(662),H=n(224),Y=n(661);function z(e){return Object(p.jsxs)(B.a,Object(U.a)(Object(U.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(p.jsx)(I.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var G=Object(H.a)();function J(e){var t=e.user,n=e.setUser,r=Object(k.f)(),c=Object(a.useState)({}),s=Object(j.a)(c,2),i=s[0],u=s[1],b=Object(a.useState)({email:"",password:""}),d=Object(j.a)(b,2),m=d[0],h=d[1];Object(a.useEffect)((function(){null!==t&&void 0!==t&&t.email&&r("/portal")}),[t,r]),console.log("User",t);var O=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,r,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u((function(e){return Object(U.a)(Object(U.a)({},e),{},{form:null})})),t.preventDefault(),e.next=4,x.loginUser({email:m.email,password:m.password});case 4:a=e.sent,r=a.data,c=a.error,console.log("users",r),console.log("Error",c),c&&u((function(e){return Object(U.a)(Object(U.a)({},e),{},{form:c})})),null!==r&&void 0!==r&&r.user&&(n(r.user),x.setToken(r.token));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(Y.a,{theme:G,children:Object(p.jsxs)(D.a,{container:!0,component:"main",sx:{height:"100vh"},children:[Object(p.jsx)(T.a,{}),Object(p.jsx)(D.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(p.jsx)(D.a,{item:!0,xs:12,sm:8,md:5,component:W.a,elevation:6,square:!0,children:Object(p.jsxs)(A.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(C.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(p.jsx)(L.a,{})}),Object(p.jsx)(B.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(p.jsxs)(A.a,{component:"form",noValidate:!0,onSubmit:O,onChange:function(e){"email"===e.target.name&&(-1===e.target.value.indexOf("@")?u((function(e){return Object(U.a)(Object(U.a)({},e),{},{email:"Please enter a valid email."})})):u((function(e){return Object(U.a)(Object(U.a)({},e),{},{email:null})}))),h((function(t){return Object(U.a)(Object(U.a)({},t),{},Object(F.a)({},e.target.name,e.target.value))}))},sx:{mt:1},children:[Object(p.jsx)(P.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),i.email&&Object(p.jsx)("span",{className:"error",children:i.email}),Object(p.jsx)(P.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(p.jsx)(_.a,{control:Object(p.jsx)(q.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(p.jsx)(E.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),Object(p.jsxs)(D.a,{container:!0,children:[Object(p.jsx)(D.a,{item:!0,xs:!0,children:Object(p.jsx)(I.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(p.jsx)(D.a,{item:!0,children:Object(p.jsx)(I.a,{href:"/registration",variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(p.jsx)(z,{sx:{mt:5}})]})]})})]})})}var V=n(660);n(601);function M(e){return Object(p.jsxs)(B.a,Object(U.a)(Object(U.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(p.jsx)(I.a,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]}))}var K=Object(H.a)();function Q(e){var t=e.user,n=e.setUser,r=Object(a.useState)({}),c=Object(j.a)(r,2),s=c[0],i=c[1],u=Object(k.f)(),b=Object(a.useState)({firstName:"",lastName:"",email:"",password:""}),d=Object(j.a)(b,2),m=d[0],h=d[1];Object(a.useEffect)((function(){null!==t&&void 0!==t&&t.email&&u("/portal")}),[t,u]);var O=function(){var e=Object(l.a)(Object(o.a)().mark((function e(t){var a,r,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i((function(e){return Object(U.a)(Object(U.a)({},e),{},{form:null})})),t.preventDefault(),e.next=4,x.signUpUser({email:m.email,password:m.password,firstName:m.firstName,lastName:m.lastName});case 4:a=e.sent,r=a.data,c=a.error,console.log("Error?",c),console.log("Data?",r),c&&i((function(e){return Object(U.a)(Object(U.a)({},e),{},{form:c})})),null!==r&&void 0!==r&&r.user&&(n(r.user),x.setToken(r.token));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(Y.a,{theme:K,children:Object(p.jsxs)(V.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(T.a,{}),Object(p.jsxs)(A.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(C.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(p.jsx)(L.a,{})}),Object(p.jsx)(B.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(p.jsxs)(A.a,{component:"form",noValidate:!0,onSubmit:O,sx:{mt:3},onChange:function(e){"email"===e.target.name&&(-1===e.target.value.indexOf("@")?i((function(e){return Object(U.a)(Object(U.a)({},e),{},{email:"Please enter a valid email."})})):i((function(e){return Object(U.a)(Object(U.a)({},e),{},{email:null})}))),h((function(t){return Object(U.a)(Object(U.a)({},t),{},Object(F.a)({},e.target.name,e.target.value))}))},children:[Object(p.jsxs)(D.a,{container:!0,spacing:2,children:[Object(p.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(P.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(p.jsx)(D.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(P.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(p.jsx)(D.a,{item:!0,xs:12,children:Object(p.jsx)(P.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),s.email&&Object(p.jsx)("span",{className:"error",children:s.email}),Object(p.jsx)(D.a,{item:!0,xs:12,children:Object(p.jsx)(P.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),Object(p.jsx)(D.a,{item:!0,xs:12,children:Object(p.jsx)(_.a,{control:Object(p.jsx)(q.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(p.jsx)(E.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(p.jsx)(D.a,{container:!0,justifyContent:"flex-end",children:Object(p.jsx)(D.a,{item:!0,children:Object(p.jsx)(I.a,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(p.jsx)(M,{sx:{mt:5}})]})})}n(602),n(603);var X=[{key:1,label:"Endurance",value:"endurance"},{key:2,label:"Strength",value:"strength"},{key:3,label:"Flexibility",value:"flexibility"},{key:4,label:"Balance",value:"balance"}];function Z(e){var t=e.addPost,n=(e.user,Object(a.useState)({})),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),b=Object(j.a)(i,2),d=(b[0],b[1],Object(k.f)(),Object(a.useState)({exercise_name:"",category:"",date:"",duration:"",intensity:0})),m=Object(j.a)(d,2),h=m[0],O=m[1],f=function(e){h.intensity>10?(console.log("In here?"),s((function(e){return Object(U.a)(Object(U.a)({},e),{},{intensity:"Intensity cannot be greater than 10 or less than 0"})}))):s((function(e){return Object(U.a)(Object(U.a)({},e),{},{intensity:null})})),O((function(t){return Object(U.a)(Object(U.a)({},t),{},Object(F.a)({},e.target.name,e.target.value))}))};console.log("Form?",h);var v=function(){var e=Object(l.a)(Object(o.a)().mark((function e(n){var a,r,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return Object(U.a)(Object(U.a)({},e),{},{form:null})})),n.preventDefault(),e.next=4,x.createPost({exercise_name:h.exercise_name,category:h.category,intensity:h.intensity,duration:h.duration});case 4:a=e.sent,r=a.data,c=a.error,console.log("Error?",c),console.log("Data?",r),c&&s((function(e){return Object(U.a)(Object(U.a)({},e),{},{form:c})})),r&&t(r.exercisePost);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:"Register",children:[Object(p.jsx)("div",{className:"media"}),Object(p.jsxs)("div",{className:"card",children:[Object(p.jsx)("h2",{children:"Add Exercise"}),c.form&&Object(p.jsx)("span",{className:"error",children:c.form}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"form",children:[Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("label",{htmlFor:"name",children:"Name"}),Object(p.jsx)("input",{type:"text",name:"exercise_name",placeholder:"Jane",value:h.exercise_name,onChange:f})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("label",{htmlFor:"name",children:"Select a date"}),Object(p.jsx)("input",{type:"date",name:"date",value:h.date,onChange:f})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("label",{htmlFor:"name",children:"Category"}),Object(p.jsx)("select",{name:"category",onChange:function(e){return O((function(t){return Object(U.a)(Object(U.a)({},t),{},{category:e.target.value})}))},value:h.category,children:X.map((function(e){return Object(p.jsx)("option",{value:e.label,children:e.label},e.key)}))})]}),Object(p.jsx)("br",{}),Object(p.jsxs)("div",{className:"split-inputs",children:[Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("label",{htmlFor:"name",children:"Duration(min)"}),Object(p.jsx)("input",{type:"number",name:"duration",placeholder:"1",value:h.duration,onChange:f})]}),Object(p.jsxs)("div",{className:"input-field",children:[Object(p.jsx)("label",{htmlFor:"name",children:"Intensity"}),Object(p.jsx)("input",{type:"number",name:"intensity",placeholder:"1",value:h.intensity,onChange:f})]})]}),c.intensity&&Object(p.jsx)("span",{className:"error",children:c.intensity}),Object(p.jsx)(u.b,{to:"/exercise",children:Object(p.jsx)("button",{onClick:v,children:" Save"})})]})]})]})}function $(e){var t,n=e.user,a=(e.setUser,Object(k.f)(),Boolean(null===n||void 0===n?void 0:n.email)||Boolean(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.email));console.log("auth?",a),console.log("User",n);var r=a?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"banner",children:[Object(p.jsx)("h1",{children:" Activity Feed"}),Object(p.jsxs)("div",{className:"buttons",children:[Object(p.jsxs)(u.b,{to:"/exerciseForm",children:[" ",Object(p.jsx)("button",{className:"button",children:" Add exercise"})]}),Object(p.jsx)("button",{className:"button",children:" Log Sleep"}),Object(p.jsx)("button",{className:"button",children:"Record Nutrition"})]})]}),Object(p.jsxs)("div",{className:"tabs",children:[Object(p.jsxs)("div",{className:"tab",children:[Object(p.jsx)("h1",{className:"",children:" Nutrition"}),Object(p.jsx)("div",{className:"number",children:" 0"})]}),Object(p.jsxs)("div",{className:"tab",children:[Object(p.jsx)("h1",{children:"Sleep"}),Object(p.jsx)("div",{className:"number",children:" 0"})]}),Object(p.jsxs)("div",{className:"tab",children:[Object(p.jsx)("h1",{children:" Exercise"}),Object(p.jsx)("div",{className:"number",children:"0"})]})]})]}):Object(p.jsx)("div",{children:" Login to see portal"});return Object(p.jsx)(p.Fragment,{children:r})}function ee(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(j.a)(c,2),b=(s[0],s[1]),d=Object(a.useState)([]),m=Object(j.a)(d,2),h=m[0],O=m[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fetchPostFromToken();case 2:t=e.sent,n=t.data,a=t.error,console.log("Returned data fron here",n.exercisePost),n&&O(n.exercisePost),a&&b(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=localStorage.getItem("rate_my_token_setup");t&&(x.setToken(t),e())}),[]);var v=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.logOutUser();case 2:r({}),b(null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(o.a)().mark((function e(){var t,n,a;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fetchUserFromToken();case 2:t=e.sent,n=t.data,a=t.error,n&&r(n.user),a&&b(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=localStorage.getItem("rate_my_token_setup");t&&(x.setToken(t),e())}),[]),Object(p.jsx)("div",{className:"app",children:Object(p.jsxs)(u.a,{children:[Object(p.jsx)(f,{handleLogOut:v,user:n,setUser:r}),Object(p.jsxs)(k.c,{children:[Object(p.jsx)(k.a,{path:"/",element:Object(p.jsx)(S,{})}),Object(p.jsx)(k.a,{path:"/registration",element:Object(p.jsx)(Q,{user:n,setUser:r})}),Object(p.jsx)(k.a,{path:"/login",element:Object(p.jsx)(J,{user:n,setUser:r})}),Object(p.jsx)(k.a,{path:"/portal",element:Object(p.jsx)($,{setUser:r,user:n})}),Object(p.jsx)(k.a,{path:"/exercise",element:Object(p.jsx)(w,{user:n,posts:h})}),Object(p.jsx)(k.a,{path:"/exerciseForm",element:Object(p.jsx)(Z,{user:n,addPost:function(e){O((function(t){return[e].concat(Object(i.a)(t))}))}})})]})]})})}s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(ee,{})}),document.getElementById("root"))}},[[604,1,2]]]);
//# sourceMappingURL=main.5993976c.chunk.js.map