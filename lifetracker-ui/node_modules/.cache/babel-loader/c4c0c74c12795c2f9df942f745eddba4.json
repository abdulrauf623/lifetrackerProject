{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdul.karim/lifetrackerProject/lifetracker-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/abdul.karim/lifetrackerProject/lifetracker-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/abdul.karim/lifetrackerProject/lifetracker-ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/abdul.karim/lifetrackerProject/lifetracker-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/abdul.karim/lifetrackerProject/lifetracker-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import\"./ExerciseForm.css\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import APIClient from\"../service/APIClient\";import{useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categoryOptions=[{key:1,label:\"Endurance\",value:\"endurance\"},{key:2,label:\"Strength\",value:\"strength\"},{key:3,label:\"Flexibility\",value:\"flexibility\"},{key:4,label:\"Balance\",value:\"balance\"}];export default function ExerciseForm(_ref){var addPost=_ref.addPost,user=_ref.user;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var navigate=useNavigate();var _useState5=useState({exercise_name:\"\",category:\"\",date:\"\",duration:\"\",intensity:0}),_useState6=_slicedToArray(_useState5,2),form=_useState6[0],setForm=_useState6[1];var handleOnInputChange=function handleOnInputChange(event){if(form.intensity>10){console.log(\"In here?\");setErrors(function(e){return _objectSpread(_objectSpread({},e),{},{intensity:\"Intensity cannot be greater than 10 or less than 0\"});});}else{setErrors(function(e){return _objectSpread(_objectSpread({},e),{},{intensity:null});});}setForm(function(f){return _objectSpread(_objectSpread({},f),{},_defineProperty({},event.target.name,event.target.value));});};console.log(\"Form?\",form);var handleOnSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _yield$APIClient$crea,data,error;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setErrors(function(e){return _objectSpread(_objectSpread({},e),{},{form:null});});event.preventDefault();_context.next=4;return APIClient.createPost({exercise_name:form.exercise_name,category:form.category,intensity:form.intensity,duration:form.duration});case 4:_yield$APIClient$crea=_context.sent;data=_yield$APIClient$crea.data;error=_yield$APIClient$crea.error;console.log(\"Error?\",error);console.log(\"Data?\",data);if(error){setErrors(function(e){return _objectSpread(_objectSpread({},e),{},{form:error});});}if(data){addPost(data.exercisePost);}case 11:case\"end\":return _context.stop();}}},_callee);}));return function handleOnSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"Register\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"media\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Exercise\"}),errors.form&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.form}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"exercise_name\",placeholder:\"Jane\",value:form.exercise_name,onChange:handleOnInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Select a date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:form.date,onChange:handleOnInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Category\"}),/*#__PURE__*/_jsx(\"select\",{name:\"category\",onChange:function onChange(event){return setForm(function(f){return _objectSpread(_objectSpread({},f),{},{category:event.target.value});});},value:form.category,children:categoryOptions.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.label,children:category.label},category.key);})})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"split-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Duration(min)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"duration\",placeholder:\"1\",value:form.duration,onChange:handleOnInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Intensity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"intensity\",placeholder:\"1\",value:form.intensity,onChange:handleOnInputChange})]})]}),errors.intensity&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.intensity}),/*#__PURE__*/_jsx(Link,{to:\"/exercise\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleOnSubmit,children:\" Save\"})})]})]})]});}","map":{"version":3,"names":["useState","Link","useNavigate","APIClient","useEffect","axios","categoryOptions","key","label","value","ExerciseForm","addPost","user","errors","setErrors","isLoading","setIsLoading","navigate","exercise_name","category","date","duration","intensity","form","setForm","handleOnInputChange","event","console","log","e","f","target","name","handleOnSubmit","preventDefault","createPost","data","error","exercisePost","map"],"sources":["/Users/abdul.karim/lifetrackerProject/lifetracker-ui/src/componentss/ExerciseForm/ExerciseForm.jsx"],"sourcesContent":["import { useState } from \"react\";\n\nimport \"./ExerciseForm.css\";\n\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport APIClient from \"../service/APIClient\";\nimport { useEffect } from \"react\";\n\nimport axios from \"axios\";\n\nconst categoryOptions = [\n  { key: 1, label: \"Endurance\", value: \"endurance\" },\n  { key: 2, label: \"Strength\", value: \"strength\" },\n  { key: 3, label: \"Flexibility\", value: \"flexibility\" },\n  { key: 4, label: \"Balance\", value: \"balance\" },\n];\n\nexport default function ExerciseForm({ addPost, user }) {\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n\n  const [form, setForm] = useState({\n    exercise_name: \"\",\n    category: \"\",\n    date: \"\",\n    duration: \"\",\n    intensity: 0,\n  });\n\n  const handleOnInputChange = (event) => {\n    if (form.intensity > 10) {\n      console.log(\"In here?\");\n      setErrors((e) => ({\n        ...e,\n        intensity: \"Intensity cannot be greater than 10 or less than 0\",\n      }));\n    } else {\n      setErrors((e) => ({ ...e, intensity: null }));\n    }\n\n    setForm((f) => ({ ...f, [event.target.name]: event.target.value }));\n  };\n\n  console.log(\"Form?\", form);\n\n  const handleOnSubmit = async (event) => {\n    setErrors((e) => ({ ...e, form: null }));\n\n    event.preventDefault();\n\n    const { data, error } = await APIClient.createPost({\n      exercise_name: form.exercise_name,\n      category: form.category,\n      intensity: form.intensity,\n      duration: form.duration,\n    });\n\n    console.log(\"Error?\", error);\n    console.log(\"Data?\", data);\n\n    if (error) {\n      setErrors((e) => ({ ...e, form: error }));\n    }\n\n    if (data) {\n      addPost(data.exercisePost);\n    }\n  };\n  return (\n    <div className=\"Register\">\n      <div className=\"media\"></div>\n      <div className=\"card\">\n        <h2>Add Exercise</h2>\n\n        {errors.form && <span className=\"error\">{errors.form}</span>}\n        <br />\n\n        <div className=\"form\">\n          <div className=\"input-field\">\n            <label htmlFor=\"name\">Name</label>\n            <input\n              type=\"text\"\n              name=\"exercise_name\"\n              placeholder=\"Jane\"\n              value={form.exercise_name}\n              onChange={handleOnInputChange}\n            />\n          </div>\n\n          <div className=\"input-field\">\n            <label htmlFor=\"name\">Select a date</label>\n            <input\n              type=\"date\"\n              name=\"date\"\n              value={form.date}\n              onChange={handleOnInputChange}\n            />\n          </div>\n\n          <div className=\"input-field\">\n            <label htmlFor=\"name\">Category</label>\n            <select\n              name=\"category\"\n              onChange={(event) =>\n                setForm((f) => ({ ...f, category: event.target.value }))\n              }\n              value={form.category}\n            >\n              {categoryOptions.map((category) => (\n                <option key={category.key} value={category.label}>\n                  {category.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <br />\n\n          <div className=\"split-inputs\">\n            <div className=\"input-field\">\n              <label htmlFor=\"name\">Duration(min)</label>\n              <input\n                type=\"number\"\n                name=\"duration\"\n                placeholder=\"1\"\n                value={form.duration}\n                onChange={handleOnInputChange}\n              />\n            </div>\n            <div className=\"input-field\">\n              <label htmlFor=\"name\">Intensity</label>\n              <input\n                type=\"number\"\n                name=\"intensity\"\n                placeholder=\"1\"\n                value={form.intensity}\n                onChange={handleOnInputChange}\n              />\n            </div>\n          </div>\n\n          {errors.intensity && (\n            <span className=\"error\">{errors.intensity}</span>\n          )}\n\n          <Link to=\"/exercise\">\n            <button onClick={handleOnSubmit}> Save</button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}